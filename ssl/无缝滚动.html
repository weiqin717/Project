<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="move.js" type="text/javascript" charset="utf-8"></script>
		<style type="text/css">
		*{
			margin: 0;
			padding: 0;
			
		}
		li{
			list-style: none;
			display: inline-block;
		}
		a{
			text-decoration: none;
			position: absolute;
			font-size: 50px;
			z-index: 99;
		}
		a:nth-of-type(1){
			top: 90px;
			left: 0;
		}
		a:nth-of-type(2){
			top: 90px;
			right: 0;
		}
			#box{
				width: 488px;
				height: 236px;
				margin: 50px auto;
				position: relative;
				overflow: hidden;
			}
			#ul{
				height: 236px;
				position: relative;
				top: 0;
				left: 0;
				font-size: 0;
			}
			#ol{
				position: absolute;
				bottom: 0;
				left: 50px;
			}
			#ol li{
				width: 30px;
				height: 30px;
				border-radius: 50%;
				background: greenyellow;
				text-align: center;
				line-height: 30px;
				color: red;
				cursor: pointer;
			}
			#ol .active{
				background:orange ;
			}
		</style>
	</head>
	<body>
		<div id="box">
			<a href="javascript:;" id="prev">&lt;</a>
			<a href="javascript:;" id="next">&gt;</a>
			<ul id="ul">
				<li><img src="img/a1.jpg"/></li>
				<li><img src="img/a2.jpg"/></li>
				<li><img src="img/a3.jpg"/></li>
				<li><img src="img/a4.jpg"/></li>
			</ul>
			<ol id="ol">
				<li class="active">1</li>
				<li>2</li>
				<li>3</li>
				<li>4</li>
			</ol>
		</div>
	</body>
	<script type="text/javascript">
		window.onload=function(){
			var box=document.getElementById('box');
			var prev=document.getElementsByTagName('a')[0];
			var next=document.getElementsByTagName('a')[1];
			var oUl=document.getElementById('ul');
			var oOl=document.getElementById('ol');
			var aUli=oUl.children;
			var aOli=oOl.children;
			var ow=aUli[0].offsetWidth;
			console.log(ow*aUli.length);
			oUl.style.width=ow*aUli.length+'px';
			var now=0;
			var timer=null;
			next.onclick=function(){
				now++;
				fn1();
			}
			prev.onclick=function(){
				now--;
				fn1();
			}
			for(var i=0;i<aOli.length;i++){
				aOli[i].index=i;
				aOli[i].onclick=function(){
					now=this.index;
					fn1();
				}
			}
//			timer=setInterval(function(){
//				now++;
//				fn1();
//			},2000);
			
			
			function fn1(){
				if(now==0){
					aUli[0].style.position='static';
				}
				if(now==aUli.length-1){
					aUli[aUli.length-1].style.position='static';
				}
				if(now==aUli.length){
					aUli[0].style.position='relative';
					aUli[0].style.left=ow*aUli.length+'px';
				}
				if(now>aUli.length){
					aUli[0].style.position='static';
					oUl.style.left=0;
					now=1;
				}
				if(now==-1){
					aUli[aUli.length-1].style.position='relative';
					aUli[aUli.length-1].style.left=-ow*(aUli.length)+'px';
				}
				if(now<-1){
					aUli[aUli.length-1].style.position='static';
					oUl.style.left=-ow*(aUli.length-1)+'px';
					now = aUli.length-2;
				}
				for(var i=0;i<aOli.length;i++){
					aOli[i].className='';
				}
				aOli[(aUli.length+now)%aUli.length].className='active';
				
				move(oUl,{
					left:-ow*now
				});
				
			}
			
			
			
			
			
			
		}
	</script>
</html>




























