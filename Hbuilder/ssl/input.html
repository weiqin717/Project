<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="jquery-1.11.3.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<input type="tel" name="mobile" id="mobile" value=""  placeholder="请输入手机号码" class="tel" onblur="checkTel()"/>
		<span id="tip_m" class="tip_m"></span>
	</body>
	<script type="text/javascript">
		function checkTel(){
				var tel=/^(\+?86-?)?(11|12|13|14|15|16|17|18|19)[0-9]{9}$/;
				var tels=$('#mobile').val();
				if(!tel.test(tels)){
					$('#tip_m').text('手机号码格式不正确 ');
					return false;
					
				}else{
					alert(1)
					$('#tip_m').text(' ');
					 $.ajax({
			              url:"{:U('checkUsername')}",
			              type:"post",
			              data:{username:tels},
			              dataType:"json",
			              success:function(data){
								if(data.status==1){
									$('#tip_m').text('');
									return true;
								}else{
									if(data.info != ''){
										$('#tip_m').text(data.info);
										return false;
									}
									
								}
								
			                }
			        });
				}
			}
	</script>
</html>
<!--
	
	
	function checkNums(){
				var num=/^[0-9]+(.[0-9]{2})?$/;
				var nums=$('#nums').val();
				if(!num.test(nums)){
					$('#tip_m').text('请输入数字 ');
					return false;
				}
				return true;
			}
-->