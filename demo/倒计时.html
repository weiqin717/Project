<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <div id="show-h"></div>
    <div id="show-m"></div>
    <div id="show-s"></div>
    <hr>
    <div id="timer-t"></div>
    <div id="timer-s"></div>
    <div id="timer-f"></div>
    <div id="timer-m"></div>
    <hr>
    <div id="shijian">2017-08-2 19:25:24</div>
    <script src="jquery-1.11.3.js"></script>
<script>
  showLeftTime();
  function showLeftTime() {//一秒刷新一次显示时间
    var timeID = setTimeout(showLeftTime, 1000);
    d = new Date();
    toyy = d.getFullYear();
    tomm = d.getMonth();
    tdd = d.getDate();
    tomd = d.getDate() + 1;
    tdh = d.getHours();
    tmh = d.getHours() + 1
    if (tdh >= 0 && tdh < 12) {
      var ts = (new Date(toyy, tomm, tdd, 12, 0, 0)) - (new Date());//计算剩余的毫秒数
      var hh = parseInt(ts / 1000 / 60 / 60 % 24, 10);//计算剩余的小时数
      var mm = parseInt(ts / 1000 / 60 % 60, 10);//计算剩余的分钟数
      var ss = parseInt(ts / 1000 % 60, 10);//计算剩余的秒数
      hh = checkTime(hh);
      mm = checkTime(mm);
      ss = checkTime(ss);
      $('#show-h').text(hh + '时');
      $('#show-m').text(mm + '分');
      $('#show-s').text(ss + '秒');
    }
    else if (tdh >= 14 && tdh <= 24) {
      var ts = (new Date(toyy, tomm, tomd, 12, 0, 0)) - (new Date());//计算剩余的毫秒数
      var hh = parseInt(ts / 1000 / 60 / 60 % 24, 10);//计算剩余的小时数
      var mm = parseInt(ts / 1000 / 60 % 60, 10);//计算剩余的分钟数
      var ss = parseInt(ts / 1000 % 60, 10);//计算剩余的秒数
      hh = checkTime(hh);
      mm = checkTime(mm);
      ss = checkTime(ss);
      $('#show-h').text(hh + '时');
      $('#show-m').text(mm + '分');
      $('#show-s').text(ss + '秒');
    } else {
      $('#show-h').text("火爆");
      $('#show-m').text("抢购");
      $('#show-s').text("中！");
    }


    var str = $("#shijian").text();
    str = str.replace(/-/g, '/');
    var datex = new Date(str);
    var ts = (datex) - (new Date());//计算剩余的毫秒数
    var dd = parseInt(ts / 1000 / 60 / 60 / 24, 10);//计算剩余的天数
    var hh = parseInt(ts / 1000 / 60 / 60 % 24, 10);//计算剩余的小时数
    var mm = parseInt(ts / 1000 / 60 % 60, 10);//计算剩余的分钟数
    var ss = parseInt(ts / 1000 % 60, 10);//计算剩余的秒数
    dd = checkTime(dd);
    hh = checkTime(hh);
    mm = checkTime(mm);
    ss = checkTime(ss);
    if (ts <= 0) {
      $('#timer-t').text("");
      $('#timer-s').text("正在");
      $('#timer-f').text("预约");
      $('#timer-m').text("中！");
    } else {
      $('#timer-t').text(dd + '天');
      $('#timer-s').text(hh + '时');
      $('#timer-f').text(mm + '分');
      $('#timer-m').text(ss + '秒');
    }
  }
  function checkTime(i) {
    if (i < 10) {
      i = "0" + i;
    }
    return i;
  }

</script>
</body>
</html>


